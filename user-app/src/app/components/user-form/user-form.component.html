<div class="modal abrir-modal animacion fadeIn" tabindex="-1" style="display: block;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Formulario de {{(user.id > 0 ? "modificación" : "creación")}} de usuario</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" (click)="onIsOpen()"></button>
      </div>
      <div class="modal-body">
        <form (ngSubmit)="onSubmit(userForm)" #userForm="ngForm">
          <div>
            <input class="form-control my-2" name="name" placeholder="Nombre*" [(ngModel)]="user.name" required
              #name="ngModel">
            @if (name.invalid && (name.dirty || name.touched)) {
            @if (name.errors!['required']) {
            <div class="text-danger">
              Nombre es requerido
            </div>
            }
            }
          </div>
          <div>
            <input class="form-control my-2" name="lastname" placeholder="Apellido*" [(ngModel)]="user.lastname"
              required #lastname="ngModel">
            @if (lastname.invalid && (lastname.dirty || lastname.touched)) {
            @if (lastname.errors!['required']) {
            <div class="text-danger">
              Apellido es requerido
            </div>
            }
            }
          </div>
          <div>
            <input class="form-control my-2" name="email" placeholder="Email*" type="email" [(ngModel)]="user.email"
              required email #email="ngModel">
            @if (email.invalid && (email.dirty || email.touched)) {
            @if (email.errors!['required']) {
            <div class="text-danger">
              Email es requerido
            </div>
            }
            @if (email.errors!['email']) {
            <div class="text-danger">
              Email no tiene formato correcto
            </div>
            }
            }
          </div>
          <div>
            <input class="form-control my-2" name="username" placeholder="Username*" [(ngModel)]="user.username"
              required #username="ngModel" minlength="3">
            @if (username.invalid && (username.dirty || username.touched)) {
            @if (username.errors!['required']) {
            <div class="text-danger">
              Username es requerido
            </div>
            }
            @if (username.errors!['minlength']) {
            <div class="text-danger">
              El Username debe tener un mínimo de 3 carácteres
            </div>
            }
            }
          </div>
          <div>
            <input class="form-control my-2" name="password" placeholder="Contraseña*" type="password"
              [(ngModel)]="user.password" required #password="ngModel" minlength="6">
            @if (password.invalid && (password.dirty || password.touched)) {
            @if (password.errors!['required']) {
            <div class="text-danger">
              Contraseña es requerido
            </div>
            }
            @if (password.errors!['minlength']) {
            <div class="text-danger">
              La contraseña debe tener un mínimo de 6 carácteres
            </div>
            }
            }
          </div>
          <div>
            <button type="submit" class="btn btn-primary my-2" [disabled]="userForm.invalid">
              {{(user.id > 0 ? "Modificar" : "Crear")}}
            </button>

            <button type="button" class="btn btn-danger mx-5 my-2" (click)="onClear(userForm)">
              Limpiar Formulario
            </button>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" (click)="onIsOpen()">Cerrar</button>
      </div>
    </div>
  </div>
</div>